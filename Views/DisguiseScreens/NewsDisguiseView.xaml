<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:MauiApp.Models"
             x:Class="MauiApp.Views.DisguiseScreens.NewsDisguiseView">
    
    <ScrollView BackgroundColor="White">
        <VerticalStackLayout Spacing="0">
            
            <!-- 헤더 -->
            <Grid BackgroundColor="#1a73e8" 
                  Padding="15,10"
                  ColumnDefinitions="*,Auto">
                <Label Text="📰 뉴스"
                       FontSize="22"
                       FontAttributes="Bold"
                       TextColor="White"
                       VerticalOptions="Center"/>
                <Label Grid.Column="1"
                       Text="{Binding CurrentTime, StringFormat='{0:HH:mm}'}"
                       FontSize="14"
                       TextColor="White"
                       VerticalOptions="Center"/>
            </Grid>

            <!-- 카테고리 탭 -->
            <ScrollView Orientation="Horizontal" 
                        Padding="10,15"
                        BackgroundColor="#f8f9fa">
                <HorizontalStackLayout Spacing="10">
                    <Frame Padding="12,8" 
                           BackgroundColor="#1a73e8"
                           CornerRadius="20"
                           HasShadow="False">
                        <Label Text="전체" TextColor="White" FontSize="13"/>
                    </Frame>
                    <Frame Padding="12,8" 
                           BackgroundColor="White"
                           CornerRadius="20"
                           BorderColor="#e0e0e0"
                           HasShadow="False">
                        <Label Text="IT/과학" TextColor="#666" FontSize="13"/>
                    </Frame>
                    <Frame Padding="12,8" 
                           BackgroundColor="White"
                           CornerRadius="20"
                           BorderColor="#e0e0e0"
                           HasShadow="False">
                        <Label Text="경제" TextColor="#666" FontSize="13"/>
                    </Frame>
                    <Frame Padding="12,8" 
                           BackgroundColor="White"
                           CornerRadius="20"
                           BorderColor="#e0e0e0"
                           HasShadow="False">
                        <Label Text="정치" TextColor="#666" FontSize="13"/>
                    </Frame>
                    <Frame Padding="12,8" 
                           BackgroundColor="White"
                           CornerRadius="20"
                           BorderColor="#e0e0e0"
                           HasShadow="False">
                        <Label Text="스포츠" TextColor="#666" FontSize="13"/>
                    </Frame>
                </HorizontalStackLayout>
            </ScrollView>

            <!-- 뉴스 리스트 -->
            <CollectionView x:Name="NewsCollection"
                            SelectionMode="None">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:NewsArticle">
                        <Frame Margin="10,5"
                               Padding="15"
                               BackgroundColor="White"
                               BorderColor="#e0e0e0"
                               CornerRadius="10"
                               HasShadow="True">
                            <VerticalStackLayout Spacing="10">
                                
                                <!-- 카테고리 뱃지 -->
                                <Frame Padding="8,4"
                                       BackgroundColor="#e8f5e9"
                                       CornerRadius="4"
                                       HasShadow="False"
                                       HorizontalOptions="Start">
                                    <Label Text="{Binding Category}"
                                           FontSize="11"
                                           TextColor="#2e7d32"/>
                                </Frame>

                                <!-- 제목 -->
                                <Label Text="{Binding Title}"
                                       FontSize="17"
                                       FontAttributes="Bold"
                                       TextColor="#212121"
                                       LineBreakMode="WordWrap"/>

                                <!-- 요약 -->
                                <Label Text="{Binding Summary}"
                                       FontSize="14"
                                       TextColor="#666"
                                       LineBreakMode="WordWrap"
                                       MaxLines="3"/>

                                <!-- 메타 정보 -->
                                <Grid ColumnDefinitions="Auto,*,Auto">
                                    <Label Text="{Binding Source}"
                                           FontSize="12"
                                           TextColor="#999"
                                           VerticalOptions="Center"/>
                                    <Label Grid.Column="2"
                                           Text="{Binding TimeAgo}"
                                           FontSize="12"
                                           TextColor="#999"
                                           VerticalOptions="Center"/>
                                </Grid>

                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
    
</ContentView>

